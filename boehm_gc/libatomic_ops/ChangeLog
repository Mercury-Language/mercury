[7.2alpha4]

2009-12-02  Ivan Maidanski <ivmai@mail.ru>

	* configure.ac, README: Change to version 7.2alpha4.
	* configure: Regenerate.

2009-12-01  Ivan Maidanski <ivmai@mail.ru>

	* configure.ac, README: Change to version 1.3alpha1.
	* configure: Regenerate.

2009-11-21  Ivan Maidanski <ivmai@mail.ru> (really Daniel R. Grayson)

	* configure.ac (AC_CONFIG_COMMANDS): Quote PICFLAG, CC, DEFS
	values.
	* configure: Regenerate.

2009-10-06  Ivan Maidanski <ivmai@mail.ru>

	* src/atomic_ops/sysdeps/gcc/sh.h: Remove commented out AO_TS_SET
	redefinition.

2009-10-05  Ivan Maidanski <ivmai@mail.ru>

	* src/atomic_ops/sysdeps/Makefile.in: Regenerate.

2009-10-05  Ivan Maidanski <ivmai@mail.ru> (really Takashi YOSHII)

	* src/atomic_ops/sysdeps/gcc/sh.h: New file.
	* src/atomic_ops.h: Include gcc/sh.h if __arm__.
	* src/atomic_ops/sysdeps/Makefile.am: Add gcc/sh.h entry.

2009-10-02  Ivan Maidanski <ivmai@mail.ru>

	* src/atomic_ops/sysdeps/Makefile.am: Add armcc/arm_v6.h,
	msftc/arm.h, msftc/common32_defs.h, sunc/x86.h sunc/x86_64.h
	entries; order all entries alphabetically.
	* src/atomic_ops/sysdeps/Makefile.in: Regenerate.

2009-10-01  Ivan Maidanski <ivmai@mail.ru>

	* aclocal.m4: Regenerate (by autoreconf -vif using libtool-2.2,
	automake-1.10.2, autoconf-2.64).
	* INSTALL: Ditto.
	* Makefile.in: Ditto.
	* aclocal.m4: Ditto.
	* config.guess: Ditto.
	* config.sub: Ditto.
	* configure: Ditto.
	* depcomp: Ditto.
	* install-sh: Ditto.
	* missing: Ditto.
	* mkinstalldirs: Ditto.
	* doc/Makefile.in: Ditto.
	* src/config.h.in: Ditto.
	* src/Makefile.in: Ditto.
	* src/atomic_ops/Makefile.in: Ditto.
	* src/atomic_ops/sysdeps/Makefile.in: Ditto.
	* tests/Makefile.in: Ditto.

2009-10-01  Ivan Maidanski <ivmai@mail.ru>

	* src/atomic_ops/sysdeps/gcc/x86.h: Remove spaces preceding '#'
	for the preprocessor directives.
	* src/atomic_ops/sysdeps/sunc/x86.h: Ditto.

2009-09-30  Ivan Maidanski <ivmai@mail.ru> (really Petter Urkedal)

	* README: Move notes from the hand-edited part of INSTALL which
	was overwritten by Automake recently.

2009-09-26  Ivan Maidanski <ivmai@mail.ru>

	* aclocal.m4: Regenerate (by autoreconf -vif).
	* config.guess: Ditto.
	* config.sub: Ditto.
	* configure: Ditto.
	* INSTALL: Ditto.
	* Makefile.in: Ditto.
	* doc/Makefile.in: Ditto.
	* src/config.h.in: Ditto.
	* src/Makefile.in: Ditto.
	* src/atomic_ops/Makefile.in: Ditto.
	* src/atomic_ops/sysdeps/Makefile.in: Ditto.
	* tests/Makefile.in: Ditto.

2009-09-25  Ivan Maidanski <ivmai@mail.ru> (really Petter Urkedal)

	* configure.ac: Replace AC_PROG_CC with AM_PROG_CC_C_O.

2009-09-16  Ivan Maidanski <ivmai@mail.ru>

	* ChangeLog: Remove trailing spaces at EOLn.
	* doc/README.txt: Expand all tabs to spaces; remove trailing
	spaces at EOLn; remove multiple trailing blank lines.
	* src/atomic_ops.c: Ditto.
	* src/atomic_ops.h: Ditto.
	* src/atomic_ops/generalize-small.h: Ditto.
	* src/atomic_ops/generalize.h: Ditto.
	* src/atomic_ops/sysdeps/acquire_release_volatile.h: Ditto.
	* src/atomic_ops/sysdeps/aligned_atomic_load_store.h: Ditto.
	* src/atomic_ops/sysdeps/all_aligned_atomic_load_store.h: Ditto.
	* src/atomic_ops/sysdeps/all_atomic_load_store.h: Ditto.
	* src/atomic_ops/sysdeps/ao_t_is_int.h: Ditto.
	* src/atomic_ops/sysdeps/armcc/arm_v6.h: Ditto.
	* src/atomic_ops/sysdeps/atomic_load_store.h: Ditto.
	* src/atomic_ops/sysdeps/char_acquire_release_volatile.h: Ditto.
	* src/atomic_ops/sysdeps/char_atomic_load_store.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/alpha.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/arm.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/hppa.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/ia64.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/m68k.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/mips.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/powerpc.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/s390.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/sparc.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/x86.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/x86_64.h: Ditto.
	* src/atomic_ops/sysdeps/generic_pthread.h: Ditto.
	* src/atomic_ops/sysdeps/hpc/hppa.h: Ditto.
	* src/atomic_ops/sysdeps/hpc/ia64.h: Ditto.
	* src/atomic_ops/sysdeps/ibmc/powerpc.h: Ditto.
	* src/atomic_ops/sysdeps/icc/ia64.h: Ditto.
	* src/atomic_ops/sysdeps/int_acquire_release_volatile.h: Ditto.
	* src/atomic_ops/sysdeps/int_aligned_atomic_load_store.h: Ditto.
	* src/atomic_ops/sysdeps/int_atomic_load_store.h: Ditto.
	* src/atomic_ops/sysdeps/msftc/arm.h: Ditto.
	* src/atomic_ops/sysdeps/msftc/common32_defs.h: Ditto.
	* src/atomic_ops/sysdeps/msftc/x86.h: Ditto.
	* src/atomic_ops/sysdeps/msftc/x86_64.h: Ditto.
	* src/atomic_ops/sysdeps/ordered.h: Ditto.
	* src/atomic_ops/sysdeps/ordered_except_wr.h: Ditto.
	* src/atomic_ops/sysdeps/read_ordered.h: Ditto.
	* src/atomic_ops/sysdeps/short_acquire_release_volatile.h: Ditto.
	* src/atomic_ops/sysdeps/short_aligned_atomic_load_store.h: Ditto.
	* src/atomic_ops/sysdeps/short_atomic_load_store.h: Ditto.
	* src/atomic_ops/sysdeps/standard_ao_double_t.h: Ditto.
	* src/atomic_ops/sysdeps/sunc/x86.h: Ditto.
	* src/atomic_ops/sysdeps/sunc/x86_64.h: Ditto.
	* src/atomic_ops/sysdeps/test_and_set_t_is_ao_t.h: Ditto.
	* src/atomic_ops_stack.c: Ditto.
	* src/atomic_ops_stack.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/arm.h: Replace non-ASCII quotes in a
	comment.
	* src/atomic_ops/sysdeps/gcc/mips.h: Use Unix-style EOLn.

2009-09-10  Ivan Maidanski <ivmai@mail.ru>
	(ivmai123.diff)

	* src/atomic_ops/sysdeps/msftc/arm.h: Add FIXME for InterlockedOps
	(regarding memory barrier).
	* src/atomic_ops/sysdeps/msftc/arm.h: Don't recognize
	AO_ASSUME_ARM_ARCH6 anymore; check for _M_ARM >= 6 instead.
	* src/atomic_ops/sysdeps/msftc/arm.h (AO_nop_full,
	AO_test_and_set): Replace FIXME with the comment saying it is
	emulated (in generalize.h); include test_and_set_t_is_ao_t.h.
	* src/atomic_ops/sysdeps/msftc/arm.h (AO_store_full): Implement
	using InterlockedCompareExchange() (assuming the latter has a full
	mbar) for ARMv6+.
	* src/atomic_ops/sysdeps/msftc/arm.h: Include
	all_atomic_load_store.h and test_and_set_t_is_ao_t.h for the case
	of pre-ARMv6; add the comment.

2009-09-10  Ivan Maidanski <ivmai@mail.ru>
	(ivmai122.diff)

	* src/atomic_ops/sysdeps/armcc/arm_v6.h
	(AO_compare_double_and_swap_double): Replace false/true with 0/1.
	* src/atomic_ops/sysdeps/gcc/arm.h
	(AO_compare_double_and_swap_double): Ditto.
	* src/atomic_ops/sysdeps/gcc/arm.h: Recognize more ARMv6+
	predefined macros (6J, 6ZK, 7A, 7M, 7R).
	* src/atomic_ops/sysdeps/gcc/arm.h
	(AO_compare_double_and_swap_double): Add "cc" clobber to asm.
	* src/atomic_ops/sysdeps/gcc/powerpc.h (AO_HAVE_load_acquire):
	Correct the name (convert from the lower case).
	* src/atomic_ops/sysdeps/ibmc/powerpc.h (AO_HAVE_load_acquire):
	Ditto.
	* src/atomic_ops/sysdeps/ibmc/powerpc.h (AO_test_and_set,
	AO_compare_and_swap): Comment out unimplemented code (and the
	corresponding macros); add FIXME.
	* src/atomic_ops.c: Recognize AO_USE_WIN32_PTHREADS overriding
	_MSC_VER and __MINGW32__ predefined macros (useful for WinCE with
	pthreads-w32 library); don't include signal.h, sys/time.h,
	sys/select.h in this case; include windows.h instead.
	* src/atomic_ops.c (AO_pause): Use Sleep() in case of
	AO_USE_WIN32_PTHREADS (instead of select()).
	* src/atomic_ops.c (all_sigs, initialized): Don't define in case
	of AO_USE_WIN32_PTHREADS.
	* src/atomic_ops.c (AO_compare_and_swap_emulation,
	AO_compare_double_and_swap_double_emulation): Don't deal with
	signals in case of AO_USE_WIN32_PTHREADS.

2009-09-10  Ivan Maidanski <ivmai@mail.ru>
	(diff110)

	* src/atomic_ops/sysdeps/msftc/arm.h: New file (initial support
	for ARM family).
	* src/atomic_ops/sysdeps/msftc/common32_defs.h: New file.
	* src/atomic_ops/sysdeps/msftc/arm.h (AO_ASSUME_ARM_ARCH6): New
	macro.
	* src/atomic_ops/sysdeps/msftc/common32_defs.h
	(AO_USE_INTERLOCKED_INTRINSICS): Ditto.
	* src/atomic_ops/sysdeps/msftc/x86.h: Move "Interlocked"
	declarations to common32_defs.h.
	* src/atomic_ops/sysdeps/msftc/common32_defs.h
	(AO_INTERLOCKED_VOLATILE): New macro defined (used by
	Interlocked-based primitives) for compatibility with older VC++.
	* src/atomic_ops/sysdeps/msftc/common32_defs.h: Don't include
	missing <intrin.h> if WinCE target.
	* src/atomic_ops/sysdeps/msftc/x86.h: Include common32_defs.h
	(define AO_USE_INTERLOCKED_INTRINSICS unconditionally).
	* src/atomic_ops/sysdeps/msftc/x86.h (AO_fetch_and_add_full,
	AO_fetch_and_add1_full, AO_fetch_and_sub1_full,
	AO_compare_and_swap_full): Move arch-independent primitives to
	common32_defs.h.
	* src/atomic_ops/sysdeps/msftc/x86.h: Remove comment about i486 or
	better CPU (since Interlocked Add and Xchg primitives are available
	on any 32-bit CPU).
	* src/atomic_ops.h: Include msftc/x86.h even if _M_IX86 is less than
	400 (for i80386).
	* src/atomic_ops.h: Include msftc/x86.h if "x86" defined (for WinCE
	on x86).
	* src/atomic_ops.h: Include msftc/arm.h if ARM target (for WinCE).

2009-09-10  Ivan Maidanski <ivmai@mail.ru>
	(diff109_cvs)

	* src/atomic_ops/sysdeps/msftc/x86.h: Fix comments (prefix
	ASSUME_WINDOWS98 with "AO_").
	* src/atomic_ops/sysdeps/msftc/x86.h: Prefix ASSUME_VISTA macro with
	"AO_".
	* src/atomic_ops/sysdeps/msftc/x86.h (AO_nop_full): Replace
	K&R-style function definition with ANSI C one.
	* src/atomic_ops/sysdeps/msftc/x86.h (AO_test_and_set_full):
	Replace AO_TS_SET with its value 0xff (some compilers does not like
	C enum consts inside inline assembler).
	* src/atomic_ops/sysdeps/msftc/x86.h (AO_test_and_set_full): Add
	comment about "missing return value" warning.
	* src/atomic_ops/sysdeps/msftc/x86.h
	(AO_OLD_STYLE_INTERLOCKED_COMPARE_EXCHANGE): New macro.
	* src/atomic_ops/sysdeps/msftc/x86.h (AO_compare_and_swap_full): Use
	_InterlockedCompareExchange() with args and result of PVOID type
	if AO_OLD_STYLE_INTERLOCKED_COMPARE_EXCHANGE is defined (mostly for
	DigitalMars compiler support).
	* src/atomic_ops/sysdeps/msftc/x86.h
	(AO_compare_double_and_swap_double_full): Swap all "val1" and "val2"
	variables ("val1" is the lowest part of AO_double_t).
	* src/atomic_ops/sysdeps/msftc/x86.h
	(AO_compare_double_and_swap_double_full): Rename to
	AO_double_compare_and_swap_full (as it has 3 args).
	* src/atomic_ops/sysdeps/msftc/x86.h: Replace C++ style comment
	with ANSI C one.

2009-09-10  Ivan Maidanski <ivmai@mail.ru>
	(diff108_cvs)

	* src/atomic_ops/sysdeps/gcc/x86_64.h: Remove comments about i486
	and 32-bit WinChips.
	* src/atomic_ops/sysdeps/msftc/x86_64.h: Ditto.
	* src/atomic_ops/sysdeps/gcc/x86_64.h (AO_nop_full): Replace
	K&R-style function definition with ANSI C one.
	* src/atomic_ops/sysdeps/msftc/x86_64.h (AO_nop_full): Ditto.
	* src/atomic_ops/sysdeps/gcc/x86_64.h
	(AO_compare_double_and_swap_double_full): Fix comment.
	* src/atomic_ops/sysdeps/gcc/x86_64.h
	(AO_compare_double_and_swap_double_full): Swap all "val1" and "val2"
	variables ("val1" is the lowest part of AO_double_t).
	* src/atomic_ops/sysdeps/msftc/x86_64.h
	(AO_compare_double_and_swap_double_full): Ditto.
	* src/atomic_ops/sysdeps/msftc/x86_64.h: Remove comment about
	ASSUME_WINDOWS98.
	* src/atomic_ops/sysdeps/msftc/x86_64.h (AO_ASM_X64_AVAILABLE): New
	macro.
	* src/atomic_ops/sysdeps/msftc/x86_64.h: Include
	"test_and_set_t_is_char.h" if AO_ASM_X64_AVAILABLE (same as in
	x86_64.h for gcc); remove FIXME (for re-implement test-and-set).
	* src/atomic_ops/sysdeps/msftc/x86_64.h: Include
	"standard_ao_double_t.h" (same as in x86_64.h for gcc).
	* src/atomic_ops/sysdeps/msftc/x86_64.h: Add comment for include
	<intrin.h> assuming at least VC++ v8.
	* src/atomic_ops/sysdeps/msftc/x86_64.h: Remove _Interlocked
	prototypes (since they are always declared in intrin.h).
	* src/atomic_ops/sysdeps/msftc/x86_64.h (AO_nop_full): Move its
	definition below CAS primitive (to textually group all asm-based
	primitives together).
	* src/atomic_ops/sysdeps/msftc/x86_64.h (AO_test_and_set_full):
	Implement for AO_ASM_X64_AVAILABLE case.
	* src/atomic_ops/sysdeps/msftc/x86_64.h: Remove AO_CASDOUBLE_MISSING
	macro (replaced with AO_ASM_X64_AVAILABLE).
	* src/atomic_ops/sysdeps/msftc/x86_64.h
	(AO_compare_double_and_swap_double_full): Add intrinsic-based
	implementation for VC++ v9+.
	* src/atomic_ops/sysdeps/standard_ao_double_t.h: Include
	<xmmintrin.h> (and use "__m128" type) if _WIN64.
	* src/atomic_ops/sysdeps/standard_ao_double_t.h
	(AO_HAVE_DOUBLE_PTR_STORAGE): Define it always (as
	"double_ptr_storage" is defined for all cases).

2009-09-09  Hans Boehm <Hans.Boehm@hp.com> (Really mostly Patrick Marlier)

	* src/atomic_ops/sysdeps/gcc/sparc.h (NO_SPARC_V9):
	Renamed to AO_NO_SPARC_V9.

2009-09-01  Hans Boehm <Hans.Boehm@hp.com> (Really mostly Patrick Marlier)

	* src/atomic_ops/sysdeps/gcc/sparc.h (AO_test_and_set_full): Use
	AO_TS_VAL_t for "oldval" (for 64-bit support).
	* src/atomic_ops/sysdeps/gcc/sparc.h (AO_compare_and_swap_full):
	New function implemented.

2009-08-12  Hans Boehm <Hans.Boehm@hp.com> (Really Ivan Maidanski)
	(diff107_cvs, resembling diff78 and diff88_cvs)

	* src/atomic_ops/sysdeps/sunc/x86.h: New file.
	* src/atomic_ops/sysdeps/sunc/x86_64.h: Ditto.
	* src/atomic_ops.h (AO_INLINE): Support inlining for DigitalMars,
	Watcom, Sun C.
	* src/atomic_ops.h (AO_compiler_barrier): Use intrinsic-based
	implementation for VC++ v8+ (include <intrin.h> before it unless
	WinCE target); use asm-based barrier implementation for Borland,
	DigitalMars and Watcom.
	* src/atomic_ops.h: Fix comment (for x86_64).
	* src/atomic_ops.h: Include specialized x86.h and x86_64.h arch
	headers for Sun C (if not AO_USE_PTHREAD_DEFS).
	* src/atomic_ops.h: Include VC-specific arch headers for Borland,
	DigitalMars and Watcom (Win32 target only).

2009-05-27  Hans Boehm <Hans.Boehm@hp.com> (Really Ivan Maidanski)
	(diff87_cvs, resembling diff29, diff68, diff78 partly)

	* doc/README.txt: Remove outdated info about Windows support.
	* src/atomic_ops/generalize.h (AO_nop_full): Replace
	K&R-style function definition with ANSI C one.
	* src/atomic_ops/sysdeps/armcc/arm_v6.h (AO_nop_full): Ditto.
	* src/atomic_ops/sysdeps/gcc/alpha.h (AO_nop_full, AO_nop_write):
	Ditto.
	* src/atomic_ops/sysdeps/gcc/arm.h (AO_nop_full): Ditto.
	* src/atomic_ops/sysdeps/gcc/ia64.h (AO_nop_full): Ditto.
	* src/atomic_ops/sysdeps/gcc/mips.h (AO_nop_full): Ditto.
	* src/atomic_ops/sysdeps/gcc/powerpc.h (AO_nop_full, AO_lwsync): Ditto.
	* src/atomic_ops/sysdeps/gcc/x86.h (AO_nop_full): Ditto.
	* src/atomic_ops/sysdeps/generic_pthread.h (AO_nop_full): Ditto.
	* src/atomic_ops/sysdeps/hpc/ia64.h (AO_nop_full): Ditto.
	* src/atomic_ops/sysdeps/icc/ia64.h (AO_nop_full): Ditto.
	* src/atomic_ops/sysdeps/ordered.h (AO_nop_full): Ditto.
	* src/atomic_ops/sysdeps/ordered_except_wr.h (AO_nop_write): Ditto.
	* src/atomic_ops/sysdeps/read_ordered.h (AO_nop_read): Ditto.
	* src/atomic_ops/sysdeps/test_and_set_t_is_ao_t.h (AO_TS_val): Fix
	comment.

2009-02-24  Hans Boehm <Hans.Boehm@hp.com> (Really primarily Earl Chew)

	* src/atomic_ops/sysdeps/gcc/powerpc.h: Add index,
	update modifiers to asms, refine clobbers to "cr0", use
	cr0 instead of cr7, add explicit AO_fetch_and_add,
	add UNTESTED 64 bit support.

2008-11-10  Hans Boehm <Hans.Boehm@hp.com> (Really Joerg Wagner)

	* src/atomic_ops/sysdeps/armcc/arm_v6.h: Compute
	AO_compare_and_swap value differently, add
	AO_compare_double_and_swap_double, some indentation fixes.
	* src/atomic_ops/sysdeps/gcc/arm.h: Make gcc asm code more
	robust and minimize clobbers, Add AO_compare_double_and_swap_double.

2008-11-06  Hans Boehm <Hans.Boehm@hp.com>

	* INSTALL: Add some platform-specific documentation.
	* src/Makefile.msft: Fix copyright notice.

2008-10-21  Hans Boehm <Hans.Boehm@hp.com>  (really Ivan Maidanski)

	* src/atomic_ops/sysdeps/aligned_atomic_load_store.h: Fix comments.
	* src/atomic_ops/sysdeps/all_aligned_atomic_load_store.h: Fix comments.
	* src/atomic_ops/sysdeps/all_atomic_load_store.h: Fix comments.
	* src/atomic_ops/sysdeps/atomic_load_store.h: Fix comments.
	* src/atomic_ops/sysdeps/char_atomic_load_store.h: Fix comments.
	* src/atomic_ops/sysdeps/gcc/arm.h: Fix comments.
	* src/atomic_ops/sysdeps/gcc/x86.h: Fix comments.
	* src/atomic_ops/sysdeps/gcc/x86_64.h: Fix comments.
	* src/atomic_ops/sysdeps/hpc/hppa.h: Fix comments.
	* src/atomic_ops/sysdeps/hpc/ia64.h: Fix comments.
	* src/atomic_ops/sysdeps/int_aligned_atomic_load_store.h: Fix comments.
	* src/atomic_ops/sysdeps/int_atomic_load_store.h: Fix comments.
	* src/atomic_ops/sysdeps/short_aligned_atomic_load_store.h: Fix comments.
	* src/atomic_ops/sysdeps/short_atomic_load_store.h: Fix comments.
	* src/atomic_ops.c: Fix comments.
	* src/atomic_ops.h: Fix comments.
	* src/atomic_ops_stack.c: Fix comments.
	* src/atomic_ops_stack.h: Fix comments.

2008-10-20  Hans Boehm <Hans.Boehm@hp.com>  (really Andrew Agno)

	* src/atomic_ops/sysdeps/gcc/x86_64.h (AO_int_fetch_and_add_full):
	fix return type.

2008-08-21  Hans Boehm <Hans.Boehm@hp.com>

	* config.guess, config.sub, configure: Regenerate/replace.
	Use autoconf 2.61, automake 1.9.6.

2008-08-19  Hans Boehm <Hans.Boehm@hp.com> (really Thiemo Seufer)

	* src/atomic_ops/sysdeps/gcc/powerpc.h: Add %U1 (update) to lwz
	instruction.

2008-08-19  Hans Boehm <Hans.Boehm@hp.com> (really Sebastian Siewior)

	* src/atomic_ops/sysdeps/gcc/powerpc.h: Consider __NO_LWSYNC__.

2008-07-24  Hans Boehm <Hans.Boehm@hp.com> (really Ivan Maidanski)

	* src/atomic_ops/sysdeps/ao_t_is_int.h, src/atomic_ops.h:
	Add parentheses around addr arg for various functions.

2008-07-18  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops/sysdeps/gcc/powerpc.h:
	Add const to first parameter of load calls (forgot one).

2008-07-18  Hans Boehm <Hans.Boehm@hp.com>

	* doc/README.txt, src/atomic_ops/generalize.h,
	src/atomic_ops/generalize-small.template,
	src/atomic_ops/generalize-small.h,
	src/atomic_ops/sysdeps/acquire_release_volatile.h,
	src/atomic_ops/sysdeps/char_acquire_release_volatile.h,
	src/atomic_ops/sysdeps/int_acquire_release_volatile.h,
	src/atomic_ops/sysdeps/short_acquire_release_volatile.h,
	src/atomic_ops/sysdeps/aligned_atomic_load_store.h,
	src/atomic_ops/sysdeps/int_aligned_atomic_load_store.h,
	src/atomic_ops/sysdeps/short_aligned_atomic_load_store.h,
	src/atomic_ops/sysdeps/ao_t_is_int.h,
	src/atomic_ops/sysdeps/atomic_load_store.h,
	src/atomic_ops/sysdeps/char_atomic_load_store.h,
	src/atomic_ops/sysdeps/int_atomic_load_store.h,
	src/atomic_ops/sysdeps/short_atomic_load_store.h,
	src/atomic_ops/sysdeps/generic_pthread.h,
	src/atomic_ops/sysdeps/read_ordered.h,
	src/atomic_ops/sysdeps/sysdeps/armcc/arm_v6.h,
	src/atomic_ops/sysdeps/gcc/arm.h,
	src/atomic_ops/sysdeps/icc/ia64.h,
	src/atomic_ops/sysdeps/ibmc/powerpc.h:
	Add const to first parameter of load calls.

2008-07-10  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops/sysdeps/gcc/m68k.h: Remove SMP-unsafe
	AO_or_full, and let it be autogenerated instead.

2008-07-03  Hans Boehm <Hans.Boehm@hp.com> (Really Thiemo Seufer)

	* src/atomic_ops/sysdeps/gcc/mips.h: Really add mips support,
	fixing a merge accident.

2008-05-30  Hans Boehm <Hans.Boehm@hp.com> (Really from various Debian
	contributors)

	* doc/Makefile.in, src/Makefile.in, src/atomic_ops/Makefile.in:
	Regenerate.

2008-05-30  Hans Boehm <Hans.Boehm@hp.com> (Really from various Debian
	contributors)

	* src/atomic_ops.h, src/atomic_ops/sysdeps/Makefile.am,
	src/atomic_ops/sysdeps/gcc/mips.h: Add mips support.
	* src/atomic_ops/sysdeps/gcc/m68k.h: Make test_and_set work
	on char, align AO_t.  Add cas, or.
	* src/atomic_ops/sysdeps/gcc/s390.h: Fix include paths.
	* src/atomic_ops/generalize.h: Fix AO_compare_and_swap_double_acquire.
	* Makefile.in, aclocal.m4, src/atomic_ops/sysdeps/Makefile.in,
	tests/Makefile.in: Regenerate.

2008-02-11  Hans Boehm <Hans.Boehm@hp.com>
	   (Really Ian Wienand & Debian maintainers)

	* src/atomic_ops/sysdeps/gcc/x86.h
	(AO_compare_double_and_swap_double_full): Correctly account for
	ebx usage with PIC.

2008-01-09  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops/sysdeps/standard_ao_double_t.h: Let
	double_ptr_storage default to long long; define everywhere.

2008-01-08  Hans Boehm <Hans.Boehm@hp.com> (Really mostly Joerg Wagner)

	* src/atomic_ops/sysdeps/msftc/x86.h: Conditionally add
	compare_double_and_swap_double.

2008-01-06  Hans Boehm <Hans.Boehm@hp.com> (Really mostly Joerg Wagner)

	* src/atomic_ops/generalize.h: Add test_and_set generalizations,
	Add AO_double_compare_and_swap generalizations.
	* src/atomic_ops/sysdeps/armcc/arm_v6.h: New file.
	* src/atomic_ops/sysdeps/gcc/arm.h: Handle V6 and V7.
	* src/atomic_ops/sysdeps/gcc/x86.h,
	src/atomic_ops/sysdeps/{gcc,msftc}/x86_64.h: Conditionally add
	compare_double_and_swap_double, commented out for msftc.
	* src/atomic_ops/sysdeps/standard_ao_double_t.h:  Add
	double_ptr_storage field.

2008-01-03  Hans Boehm <Hans.Boehm@hp.com>
	(Merge from separate atomic_ops tree)

	* src/atomic_ops/sysdeps/gcc/x86.h: Define correct macro for
	double-width cas, and fix its implementation.
	* doc/README.txt: Clarify use of _full.  Add more warnings about
	data dependencies.

2008-01-02  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops/sysdeps/gcc/powerpc.h (AO_load_acquire): Add
	%X1 modifier to support indexed addressing.

2007-07-23  Hans Boehm <Hans.Boehm@hp.com> (really Jim Marshall)

	* src/atomic_ops/sysdeps/msftc/x86.h (_InterlockedExchangeAdd): Define
	for VC++6.

2007-07-05  Andreas Tobler  <a.tobler@schweiz.org>

	* src/atomic_ops.h: Check for __powerpc64__ and __ppc64__ to include
	powerpc.h.

2007-06-26  Hans Boehm <Hans.Boehm@hp.com> (really Luca Barbato)

	* src/atomic_ops/sysdeps/gcc/powerpc.h (AO_load_acquire): Add
	64-bit version.

2007-06-13  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops.h: include stddef.h

2007-06-06  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops/sysdeps/msftc/x86_64.h: New file.
	* src/atomic_ops.h: Add test for msftc/x86_64.h.
	* src/atomic_ops/sysdeps/msftc/x86.h: Complain for _WIN64.
	* src/atomic_ops/sysdeps/Makefile.am: Add x86_64.h.
	* src/atomic_ops/sysdeps/Makefile.in: Regenerate.
	* src/atomic_ops/sysdeps/aligned_atomic_load_store.h,
	src/atomic_ops/sysdeps/int_aligned_atomic_load_store.h,
	src/atomic_ops/sysdeps/short_aligned_atomic_load_store.h:
	Replace unsigned long cast with size_t.

2007-05-17  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops/sysdeps/gcc/hppa.h (AO_test_and_set_full):
	Add cast for return.

2007-05-14  Hans Boehm <Hans.Boehm@hp.com>

	* doc/README.txt: Update to reflect C++0x effort.

2007-05-07  Hans Boehm <Hans.Boehm@hp.com> (with help from Philipp Zambelli)

	* src/atomic_ops/sysdeps/msftc/x86.h: Don't just assume that mfence
	is present.
	* src/atomic_ops/sysdeps/gcc/arm.h (AO_test_and_set_full): Correct
	oldval type.

2006-11-09  Earl Chew (Agilent)

	* msftc/x86.h: Follow Microsoft documentation and include
	windows.h.

[1.2 release]

2006-07-11  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops/sysdeps/hpc/ia64.h: Fix typos.

2006-03-28  Earl Chew (Agilent)

	* src/atomic_ops/sysdeps/gcc/powerpc.h: Remove unused variable cr.
	* src/atomic_ops/sysdeps/msftc/x86.h:
	Use new intrinsics available in MSVC 2003 and MSVC 2005.
	Use inline assembler to generate mfence and byte sized xchg
	Use correct prototype for InterlockedCompareExchange.
	* src/atomic_ops.h: Add test for __PPC__ .
	* tests/run_parallel.inc: Add simple VxWorks support.
	* tests/test_atomic.c, tests/test_atomic_include.h: Add prototypes
	to silence compiler warnings.

2006-11-13  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops/sysdeps/gcc/powerpc.h: Beginnings of 64 bit support.
	* src/atomic_ops/sysdeps/gcc/x86.h: Use "=q" for AO_test_and_set_full.

2005-11-04  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops/sysdeps/gcc/ia64.h: Include
	all_acquire_release_volatile.h, instead of just the pointer-sized
	version.
	* src/atomic_ops/sysdeps/gcc/ia64.h: Include
	all_acquire_release_volatile.h and all_atomic_load_store.h,
	instead of just the pointer-sized versions.

[1.1 release]

2005-09-27  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops.h: Define AO_CAN_EMUL_CAS for arm.
	* src/atomic_ops/sysdeps/read_ordered.h: New file, extracted from
	ordered_except_wr.h.
	* src/atomic_ops/sysdeps/ordered_except_wr.h: include read_ordered.h
	instead of duplicating it.
	* src/atomic_ops/sysdeps/gcc/arm.h: Include read_ordered.h.

2005-09-16  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops/sysdeps/gcc/arm.h: Replace the AO_test_and_set
	definition with one that might actually work.  (Thanks to Kazu
	Hirata and Paul Brook.)

2005-08-01  Hans Boehm <Hans.Boehm@hp.com>

	* src/atomic_ops/Makefile.am: Change function naming from "byte" to
	"char" (again).

[1.0 release]

2005-03-21  Hans Boehm <Hans.Boehm@hp.com>
	Fix various acquire_release_volatile.h files to reflect the fact
	that both icc and gcc seem to reorder ordinary memory accesses around
	volatile accesses early in the compilation. Modify the acquire
	release test to catch this problem (with high probablity, and only on
	a multiprocessor).

2005-03	Hans Boehm <Hans.Boehm@hp.com>
	Fixes for recently introduced bugs.  Update x86 and x86-64 assembly
	syntax to deal with complaints by some recent gcc versions.

2005-02	Hans Boehm <Hans.Boehm@hp.com>
	Added libatomic_ops_gpl library with support for mostly
	lock-free stack and malloc().

2005-01 Ian Wienand <ianw@gelato.unsw.edu.au>, Al Stone <ahs3@debian.org>,
	Hans Boehm <Hans.Boehm@hp.com>
	Use autoconf, automake, starting with code from Debian package.
	Don't use libtool.

2005-01	Hans Boehm <Hans.Boehm@hp.com>
	* test_and_set_t_is_ao_t.h, test_and_set_t_is_char.h, others:
	Change most platforms to use byte-wide test-and-set locations.

2005-01	Hans Boehm <Hans.Boehm@hp.com>
	* ao_t_is_int.h: Add to trivially support int-wide operations
	on platforms with int-sized pointers.

2004-12	Hans Boehm <Hans.Boehm@hp.com>
	* gcc/powerpc.h: First serious attempt to support PowerPC (with
	help from Maged Michael and others).

2004-12	Hans Boehm <Hans.Boehm@hp.com>
	* sunc/sparc.[hS]: Added minimal supprt for the Sun SPARC compiler.
	* atomic_ops_sysdeps.S: Add support for platforms that require
	out-of-line assmebly code.

2004-10 Hans Boehm <Hans.Boehm@hp.com>
	More work on char, short, int sized data.  Add both
	compare_double_and_swap_double and compare_and_swap_double.
	Typically each platform will provide at most one of these.

2004-07-02  Ranko Zivojnovic
	Replace both instances of AO_HAVE_NOP_FULL with AO_HAVE_nop_full.

2004-06 Hans Boehm <Hans.Boehm@hp.com>
	Start to add atomic_ops primitives for different sized data.

2003-12-18  Hans Boehm  <Hans.Boehm@hp.com>

	* atomic_ops/sysdeps/acquire_release_volatile.h, atomic_ops.h:
	Fix support for ecc on IA64.  Remove compiler_barrier workaround
	for gcc 3.4 and later.

2003-12-17  Hans Boehm  <Hans.Boehm@hp.com>

	* atomic_ops/sysdeps/hpc/{ia64.h,hppa.h},
	atomic_ops/sysdeps/msftc/x86.h, Makefile, Makefile.atomic_ops,
	Makefile.atomic_ops.msft, atomic_ops.h: Add initial support
	for atomic_ops for VC++/Windows/X86 and HP/UX with the HP
	compiler on PA_RISC and IA64.

2003-12-09  Hans Boehm  <Hans.Boehm@hp.com>

	* many: Install under "atomic_ops" instead of "ao".
	Change atomic_ops include file structure.  Auxiliary include
	files are all under include/atomic_ops.
	Fix (hopefully) "make dist" in atomic_ops distribution.
	Renamed various types to end in _t, though the old versions
	are still defined for backward compatibility.

2003-12-08  Carlos O'Donell  <carlos@baldric.uwo.ca>

	* ao_sysdeps/gcc/hppa.h: Define AO_CLEAR macro. Change
	AO_pa_clearable_loc type. Add __ldcw, and __ldcw_align
	helper macros. AO_test_and_set_full uses helper macros.


Started sometime after version 0.4 release.  Currently the format is
informal.  Eventually should become more GNU-like.
